(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{28:(e,s,a)=>{"use strict";a.d(s,{t:()=>t});let t="http://localhost:3000"},167:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(5155),r=a(2619),n=a.n(r),l=a(63),o=a(2115);a(1554);let i=function(){let[e,s]=(0,o.useState)(()=>localStorage.getItem("theme")||"dark"),[a,r]=(0,o.useState)("light"===e?"LocShare":"AnonShare"),i=(0,l.useRouter)();return(0,o.useEffect)(()=>{r("light"===e?"LocShare":"AnonShare"),document.body.className=e,localStorage.setItem("theme",e)},[e]),(0,t.jsx)("header",{className:"header",children:(0,t.jsxs)("div",{className:"container header-container",children:[(0,t.jsx)(n(),{href:"/",className:"logo",onDoubleClick:()=>{"dark"===e?(s("light"),r("LocShare")):(s("dark"),r("AnonShare"))},children:a}),(0,t.jsxs)("div",{className:"header-buttons",children:[(0,t.jsx)("button",{className:"header-btn",onClick:s=>{s.preventDefault(),"light"===e?i.push("/locshare"):i.push("/share")},children:"Send Securely"}),(0,t.jsx)("button",{className:"header-btn light",onClick:e=>{e.preventDefault(),i.push("/access")},children:"Safely Access Files"})]})]})})}},477:()=>{},859:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},1166:(e,s,a)=>{"use strict";a.d(s,{F:()=>n,P:()=>l});var t=a(316),r=a.n(t);async function n(e,s){if(!s)return e;try{return r().AES.encrypt(e,s).toString()}catch(e){throw console.error("Encryption failed:",e),Error("Failed to encrypt text")}}async function l(e,s){if(!s)return e;try{let a=r().AES.decrypt(e,s).toString(r().enc.Utf8);if(!a)throw Error("Decryption produced empty result. This could mean:\n1. Wrong password\n2. Text was encrypted with a different method\n3. Corrupted data\n\nPlease create a new share and try again.");return a}catch(e){throw console.error("Decryption failed:",e),Error("Invalid password or corrupted data. If you just updated the app, please create a new share.")}}},1554:()=>{},1786:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},1965:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(5155);a(3448);let r=function(){return(0,t.jsx)("footer",{className:"footer",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"footer-content",children:[(0,t.jsxs)("div",{className:"footer-logo-section",children:[(0,t.jsx)("div",{className:"footer-logo",children:"AnonShare"}),(0,t.jsx)("p",{className:"footer-tagline",children:"Stay Connected with Us"})]}),(0,t.jsxs)("div",{className:"footer-links",children:[(0,t.jsxs)("div",{className:"footer-column",children:[(0,t.jsx)("h3",{children:"LINKS"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Privacy Policy"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Terms of Use"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Support Center"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Feedback"})})]})]}),(0,t.jsxs)("div",{className:"footer-column",children:[(0,t.jsx)("h3",{children:"RESOURCES"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Contact Us"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"About Us"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Latest Updates"})})]})]})]})]}),(0,t.jsxs)("div",{className:"footer-bottom",children:[(0,t.jsx)("p",{className:"copyright",children:"\xa9 Copyright 2025"}),(0,t.jsxs)("div",{className:"subscribe",children:[(0,t.jsx)("input",{type:"email",placeholder:"Email"}),(0,t.jsx)("button",{children:"Subscribe"})]})]})]})})}},3065:()=>{},3448:()=>{},5486:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var t=a(5155),r=a(2115),n=a(63),l=a(167),o=a(1965),i=a(1786),c=a(9715),d=a(7910),h=a(6983),p=a(9708),u=a(7828),x=a(859);a(3065);var j=a(8421),m=a(1166);function f(){let e=(0,n.useRouter)(),[s,a]=(0,r.useState)("file"),[f,v]=(0,r.useState)([]),[y,g]=(0,r.useState)(""),[N,w]=(0,r.useState)("1"),[b,S]=(0,r.useState)(""),[k,A]=(0,r.useState)(!1),[C,E]=(0,r.useState)(""),[D,P]=(0,r.useState)(!1),[F,z]=(0,r.useState)(""),[T,U]=(0,r.useState)(!1),I=(0,r.useRef)(null);(0,r.useEffect)(()=>{"light"===(localStorage.getItem("theme")||"dark")&&e.push("/locshare");let s=setInterval(()=>{"light"===(localStorage.getItem("theme")||"dark")&&e.push("/locshare")},100);return()=>clearInterval(s)},[e]);let L=async a=>{if(a.preventDefault(),"file"===s&&0===f.length)return void alert("Please select at least one file to share");if("text"===s&&!y.trim())return void alert("Please enter a message to share");U(!0);try{let a;if("file"===s)a=await (0,j.Gi)(f[0],3600*parseInt(N),k?b:"",D?C:null);else{let e=y;k&&b&&(e=await (0,m.F)(y,b)),a=await (0,j.Gi)(null,3600*parseInt(N),k?b:"",D?C:null,e)}if(console.log("Upload response:",a),!a||!a.sessionUrl)throw Error("Invalid response from server");e.push(a.sessionUrl)}catch(e){console.error("Upload error:",e),alert(e.message||"Upload failed")}finally{U(!1)}};return(0,t.jsxs)("div",{className:"share-page",children:[(0,t.jsx)(l.A,{}),(0,t.jsxs)("main",{className:"share-container",children:[(0,t.jsxs)("div",{className:"share-card",children:[(0,t.jsxs)("div",{className:"share-header",children:[(0,t.jsx)("h1",{children:"Share Files Securely"}),(0,t.jsx)("p",{children:"Files are available for a limited time only. No accounts needed."})]}),(0,t.jsxs)("form",{onSubmit:L,children:[(0,t.jsxs)("div",{className:"mode-toggle",children:[(0,t.jsxs)("button",{type:"button",className:"mode-btn ".concat("file"===s?"active":""),onClick:()=>a("file"),children:[(0,t.jsx)(i.A,{size:18}),"File Upload"]}),(0,t.jsxs)("button",{type:"button",className:"mode-btn ".concat("text"===s?"active":""),onClick:()=>a("text"),children:[(0,t.jsx)(c.A,{size:18}),"Text Message"]})]}),"file"===s&&(0,t.jsxs)("div",{className:"file-drop-area",onDragOver:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.add("drag-over")},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over")},onDrop:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over"),e.dataTransfer.files.length>0&&v(Array.from(e.dataTransfer.files))},children:[(0,t.jsx)("input",{type:"file",ref:I,onChange:e=>{e.target.files.length>0&&v(Array.from(e.target.files))},multiple:!0,className:"file-input",id:"file-input"}),f.length>0?(0,t.jsxs)("div",{className:"selected-files",children:[(0,t.jsxs)("div",{className:"files-header",children:[(0,t.jsxs)("h3",{children:["Selected Files (",f.length,")"]}),(0,t.jsx)("button",{type:"button",className:"clear-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),v([]),I.current&&(I.current.value="")},children:"Clear"})]}),(0,t.jsx)("ul",{className:"file-list",children:f.map((e,s)=>(0,t.jsxs)("li",{className:"file-item",children:[(0,t.jsx)("span",{className:"file-name",children:e.name}),(0,t.jsxs)("span",{className:"file-size",children:[(e.size/1024/1024).toFixed(2)," MB"]})]},s))})]}):(0,t.jsxs)("div",{className:"drop-message",onClick:()=>I.current.click(),children:[(0,t.jsx)(i.A,{size:48,className:"upload-icon"}),(0,t.jsx)("p",{children:"Drag & drop files here or click to browse"}),(0,t.jsx)("span",{className:"file-types",children:"Supports all file types up to 2GB"})]})]}),"text"===s&&(0,t.jsxs)("div",{className:"text-message-area",children:[(0,t.jsxs)("div",{className:"text-header",children:[(0,t.jsx)(c.A,{size:24}),(0,t.jsx)("h3",{children:"Enter Your Message"})]}),(0,t.jsx)("textarea",{className:"text-input",placeholder:"Type your message here... (will be encrypted if password is set)",value:y,onChange:e=>g(e.target.value),rows:10}),(0,t.jsxs)("div",{className:"text-info",children:[k&&b&&(0,t.jsxs)("span",{className:"encryption-notice",children:[(0,t.jsx)(d.A,{size:14}),"Message will be encrypted"]}),(0,t.jsxs)("span",{className:"char-count",children:[y.length," characters"]})]})]}),(0,t.jsxs)("div",{className:"share-options",children:[(0,t.jsxs)("div",{className:"option-group",children:[(0,t.jsxs)("label",{className:"option-label",children:[(0,t.jsx)(h.A,{size:18}),"Available for:"]}),(0,t.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"option-select",children:[(0,t.jsx)("option",{value:"1",children:"1 Hour"}),(0,t.jsx)("option",{value:"24",children:"24 Hours"}),(0,t.jsx)("option",{value:"72",children:"3 Days"}),(0,t.jsx)("option",{value:"168",children:"7 Days"}),(0,t.jsx)("option",{value:"720",children:"30 Days"})]})]}),(0,t.jsxs)("div",{className:"option-group",children:[(0,t.jsxs)("div",{className:"option-checkbox",children:[(0,t.jsx)("input",{type:"checkbox",id:"password-protection",checked:k,onChange:()=>A(!k)}),(0,t.jsxs)("label",{htmlFor:"password-protection",className:"checkbox-label",children:[(0,t.jsx)(p.A,{size:18}),"Password Protection"]})]}),k&&(0,t.jsx)("input",{type:"password",value:b,onChange:e=>S(e.target.value),placeholder:"Enter password",className:"password-input"})]}),(0,t.jsxs)("div",{className:"option-group",children:[(0,t.jsxs)("div",{className:"option-checkbox",children:[(0,t.jsx)("input",{type:"checkbox",id:"max-downloads",checked:D,onChange:()=>P(!D)}),(0,t.jsxs)("label",{htmlFor:"max-downloads",className:"checkbox-label",children:[(0,t.jsx)(u.A,{size:18}),"Limit Downloads"]})]}),D&&(0,t.jsx)("input",{type:"number",value:C,onChange:e=>E(e.target.value),placeholder:"Max number of downloads",className:"downloads-input",min:"1"})]})]}),(0,t.jsx)("button",{type:"submit",className:"generate-btn ".concat(T?"loading":""),disabled:T,children:T?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"spinner"}),"Generating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.A,{size:18}),"Generate Share Link"]})})]})]}),(0,t.jsxs)("div",{className:"share-features",children:[(0,t.jsxs)("div",{className:"feature",children:[(0,t.jsx)(d.A,{size:24}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Secure & Private"}),(0,t.jsx)("p",{children:"End-to-end encryption keeps your files safe"})]})]}),(0,t.jsxs)("div",{className:"feature",children:[(0,t.jsx)(h.A,{size:24}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Time-Limited"}),(0,t.jsx)("p",{children:"Files automatically expire after your chosen period"})]})]}),(0,t.jsxs)("div",{className:"feature",children:[(0,t.jsx)(p.A,{size:24}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Password Protection"}),(0,t.jsx)("p",{children:"Add an extra layer of security with passwords"})]})]})]})]}),(0,t.jsx)(o.A,{})]})}},6983:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7159:(e,s,a)=>{Promise.resolve().then(a.bind(a,5486))},7828:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7910:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},8421:(e,s,a)=>{"use strict";a.d(s,{G7:()=>o,Gi:()=>r,PE:()=>l,Pd:()=>c,RY:()=>n,Yn:()=>h,v:()=>p,vR:()=>i,zW:()=>d});var t=a(28);let r=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3600,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=new FormData;return e&&l.append("file",e),n&&l.append("encryptedText",n),l.append("expireSeconds",s),a&&l.append("password",a),r&&l.append("maxDownloads",r),(await fetch("".concat(t.t,"/upload"),{method:"POST",body:l})).json()},n=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=s?"?password=".concat(encodeURIComponent(s)):"",r=await fetch("".concat(t.t,"/session-info/").concat(e).concat(a));if(!r.ok)throw Error("Session not found");return r.json()},l=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=s?"?password=".concat(encodeURIComponent(s)):"";window.location.href="".concat(t.t,"/download/").concat(e).concat(a)},o=async e=>(await fetch("".concat(t.t,"/endsession"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ownerToken:e})})).json(),i=async e=>{let s=await fetch("".concat(t.t,"/session-data/").concat(e));if(!s.ok)throw Error("Session not found or unauthorized");return s.json()},c=async function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=new FormData;e&&l.append("file",e),n&&l.append("encryptedText",n),l.append("port",s),a&&l.append("password",a),r&&l.append("maxDownloads",r);let o=await fetch("".concat(t.t,"/local-server/start"),{method:"POST",body:l});if(!o.ok)throw Error((await o.json()).error||"Failed to start local server");return o.json()},d=async e=>{let s=await fetch("".concat(t.t,"/local-server/stop"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({port:e})});if(!s.ok)throw Error((await s.json()).error||"Failed to stop local server");return s.json()},h=async e=>(await fetch("".concat(t.t,"/local-server/check-port/").concat(e))).json(),p=async e=>{let s=await fetch("".concat(t.t,"/local-server/stats/").concat(e));if(!s.ok)throw Error("Failed to get server stats");return s.json()}},9708:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[195,198,176,828,441,255,358],()=>e(e.s=7159)),_N_E=e.O()}]);