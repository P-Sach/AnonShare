(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[353],{167:(e,s,r)=>{"use strict";r.d(s,{A:()=>l});var t=r(5155),a=r(2619),c=r.n(a),i=r(63),n=r(2115);r(1554);let l=function(){let[e,s]=(0,n.useState)(()=>localStorage.getItem("theme")||"dark"),[r,a]=(0,n.useState)("light"===e?"LocShare":"AnonShare"),l=(0,i.useRouter)();return(0,n.useEffect)(()=>{a("light"===e?"LocShare":"AnonShare"),document.body.className=e,localStorage.setItem("theme",e)},[e]),(0,t.jsx)("header",{className:"header",children:(0,t.jsxs)("div",{className:"container header-container",children:[(0,t.jsx)(c(),{href:"/",className:"logo",onDoubleClick:()=>{"dark"===e?(s("light"),a("LocShare")):(s("dark"),a("AnonShare"))},children:r}),(0,t.jsxs)("div",{className:"header-buttons",children:[(0,t.jsx)("button",{className:"header-btn",onClick:s=>{s.preventDefault(),"light"===e?l.push("/locshare"):l.push("/share")},children:"Send Securely"}),(0,t.jsx)("button",{className:"header-btn light",onClick:e=>{e.preventDefault(),l.push("/access")},children:"Safely Access Files"})]})]})})}},477:()=>{},1166:(e,s,r)=>{"use strict";r.d(s,{F:()=>c,P:()=>i});var t=r(316),a=r.n(t);async function c(e,s){if(!s)return e;try{return a().AES.encrypt(e,s).toString()}catch(e){throw console.error("Encryption failed:",e),Error("Failed to encrypt text")}}async function i(e,s){if(!s)return e;try{let r=a().AES.decrypt(e,s).toString(a().enc.Utf8);if(!r)throw Error("Decryption produced empty result. This could mean:\n1. Wrong password\n2. Text was encrypted with a different method\n3. Corrupted data\n\nPlease create a new share and try again.");return r}catch(e){throw console.error("Decryption failed:",e),Error("Invalid password or corrupted data. If you just updated the app, please create a new share.")}}},1554:()=>{},1965:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});var t=r(5155);r(3448);let a=function(){return(0,t.jsx)("footer",{className:"footer",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"footer-content",children:[(0,t.jsxs)("div",{className:"footer-logo-section",children:[(0,t.jsx)("div",{className:"footer-logo",children:"AnonShare"}),(0,t.jsx)("p",{className:"footer-tagline",children:"Stay Connected with Us"})]}),(0,t.jsxs)("div",{className:"footer-links",children:[(0,t.jsxs)("div",{className:"footer-column",children:[(0,t.jsx)("h3",{children:"LINKS"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Privacy Policy"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Terms of Use"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Support Center"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Feedback"})})]})]}),(0,t.jsxs)("div",{className:"footer-column",children:[(0,t.jsx)("h3",{children:"RESOURCES"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Contact Us"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"About Us"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Latest Updates"})})]})]})]})]}),(0,t.jsxs)("div",{className:"footer-bottom",children:[(0,t.jsx)("p",{className:"copyright",children:"\xa9 Copyright 2025"}),(0,t.jsxs)("div",{className:"subscribe",children:[(0,t.jsx)("input",{type:"email",placeholder:"Email"}),(0,t.jsx)("button",{children:"Subscribe"})]})]})]})})}},3448:()=>{},4542:(e,s,r)=>{Promise.resolve().then(r.bind(r,5133))},5133:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(5155),a=r(2115),c=r(63),i=r(167),n=r(1965),l=r(9715),d=r(9708),o=r(1847);let h=(0,o.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var p=r(7828);let x=(0,o.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var u=r(5426);r(9740);var j=r(1166);function m(){let e=(0,c.useRouter)(),[s,r]=(0,a.useState)(""),[o,m]=(0,a.useState)(!1),[y,f]=(0,a.useState)(""),[v,g]=(0,a.useState)(""),[N,w]=(0,a.useState)(!1),[S,b]=(0,a.useState)(""),[k,A]=(0,a.useState)(!1),[C,E]=(0,a.useState)(!1),D=(0,a.useCallback)(async(e,s)=>{w(!0),b("");try{let r=await (0,j.P)(e,s);g(r)}catch(e){console.error("Decryption error:",e),b("Failed to decrypt message. Invalid password or corrupted data.")}finally{w(!1)}},[]);return(0,a.useEffect)(()=>{let s=sessionStorage.getItem("encrypted-text"),t="true"===sessionStorage.getItem("text-has-password"),a=sessionStorage.getItem("text-password")||"";if(!s)return void e.push("/access");r(s),m(t),f(a),(!t||a)&&D(s,a)},[e,D]),(0,t.jsxs)("div",{className:"text-viewer-page",children:[(0,t.jsx)(i.A,{}),(0,t.jsx)("main",{className:"text-viewer-container",children:(0,t.jsxs)("div",{className:"text-viewer-card",children:[(0,t.jsxs)("div",{className:"text-viewer-header",children:[(0,t.jsx)("div",{className:"header-icon",children:(0,t.jsx)(l.A,{size:48})}),(0,t.jsx)("h1",{children:"Shared Message"}),(0,t.jsx)("p",{children:"View the encrypted text message shared with you"})]}),v?(0,t.jsxs)("div",{className:"decrypted-content",children:[(0,t.jsxs)("div",{className:"content-header",children:[(0,t.jsx)("h3",{children:"Message Content"}),(0,t.jsxs)("button",{className:"copy-btn",onClick:()=>{navigator.clipboard.writeText(v).then(()=>{E(!0),setTimeout(()=>E(!1),2e3)}).catch(e=>{console.error("Failed to copy:",e)})},title:"Copy to clipboard",children:[C?(0,t.jsx)(x,{size:18}):(0,t.jsx)(u.A,{size:18}),C?"Copied!":"Copy"]})]}),(0,t.jsx)("div",{className:"text-display",children:(0,t.jsx)("pre",{children:v})}),(0,t.jsx)("div",{className:"actions",children:(0,t.jsx)("button",{className:"back-btn",onClick:()=>e.push("/access"),children:"Back to Access"})})]}):N||!o||y?(0,t.jsxs)("div",{className:"decrypting-state",children:[(0,t.jsx)("div",{className:"spinner"}),(0,t.jsx)("p",{children:"Decrypting message..."})]}):(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),D(s,y)},className:"password-form",children:[(0,t.jsxs)("div",{className:"password-notice",children:[(0,t.jsx)(d.A,{size:20}),(0,t.jsx)("p",{children:"This message is password protected"})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"password",children:"Enter Password"}),(0,t.jsxs)("div",{className:"password-input-wrapper",children:[(0,t.jsx)("input",{id:"password",type:k?"text":"password",value:y,onChange:e=>{f(e.target.value),b("")},placeholder:"Enter password to decrypt",className:"password-input",autoFocus:!0}),(0,t.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>A(!k),children:k?(0,t.jsx)(h,{size:18}):(0,t.jsx)(p.A,{size:18})})]})]}),S&&(0,t.jsx)("div",{className:"error-message",children:S}),(0,t.jsx)("button",{type:"submit",className:"decrypt-btn",disabled:N||!y,children:N?"Decrypting...":"Decrypt & View"})]})]})}),(0,t.jsx)(n.A,{})]})}},5426:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},7828:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9708:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9740:()=>{}},e=>{e.O(0,[195,951,176,828,441,255,358],()=>e(e.s=4542)),_N_E=e.O()}]);