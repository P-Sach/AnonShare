(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[881],{167:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(5155),r=a(2619),c=a.n(r),l=a(63),n=a(2115);a(1554);let i=function(){let[e,s]=(0,n.useState)(()=>localStorage.getItem("theme")||"dark"),[a,r]=(0,n.useState)("light"===e?"LocShare":"AnonShare"),i=(0,l.useRouter)();return(0,n.useEffect)(()=>{r("light"===e?"LocShare":"AnonShare"),document.body.className=e,localStorage.setItem("theme",e)},[e]),(0,t.jsx)("header",{className:"header",children:(0,t.jsxs)("div",{className:"container header-container",children:[(0,t.jsx)(c(),{href:"/",className:"logo",onDoubleClick:()=>{"dark"===e?(s("light"),r("LocShare")):(s("dark"),r("AnonShare"))},children:a}),(0,t.jsxs)("div",{className:"header-buttons",children:[(0,t.jsx)("button",{className:"header-btn",onClick:s=>{s.preventDefault(),"light"===e?i.push("/locshare"):i.push("/share")},children:"Send Securely"}),(0,t.jsx)("button",{className:"header-btn light",onClick:e=>{e.preventDefault(),i.push("/access")},children:"Safely Access Files"})]})]})})}},859:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},1554:()=>{},1847:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(2115);let r=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},c=function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter((e,s,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)((e,s)=>{let{color:a="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:h,...x}=e;return(0,t.createElement)("svg",{ref:s,...l,width:r,height:r,stroke:a,strokeWidth:i?24*Number(n)/Number(r):n,className:c("lucide",o),...x},[...h.map(e=>{let[s,a]=e;return(0,t.createElement)(s,a)}),...Array.isArray(d)?d:[d]])}),i=(e,s)=>{let a=(0,t.forwardRef)((a,l)=>{let{className:i,...o}=a;return(0,t.createElement)(n,{ref:l,iconNode:s,className:c("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...o})});return a.displayName=r(e),a}},1965:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(5155);a(3448);let r=function(){return(0,t.jsx)("footer",{className:"footer",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"footer-content",children:[(0,t.jsxs)("div",{className:"footer-logo-section",children:[(0,t.jsx)("div",{className:"footer-logo",children:"AnonShare"}),(0,t.jsx)("p",{className:"footer-tagline",children:"Stay Connected with Us"})]}),(0,t.jsxs)("div",{className:"footer-links",children:[(0,t.jsxs)("div",{className:"footer-column",children:[(0,t.jsx)("h3",{children:"LINKS"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Privacy Policy"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Terms of Use"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Support Center"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Feedback"})})]})]}),(0,t.jsxs)("div",{className:"footer-column",children:[(0,t.jsx)("h3",{children:"RESOURCES"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Contact Us"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"About Us"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Latest Updates"})})]})]})]})]}),(0,t.jsxs)("div",{className:"footer-bottom",children:[(0,t.jsx)("p",{className:"copyright",children:"\xa9 Copyright 2025"}),(0,t.jsxs)("div",{className:"subscribe",children:[(0,t.jsx)("input",{type:"email",placeholder:"Email"}),(0,t.jsx)("button",{children:"Subscribe"})]})]})]})})}},2056:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3448:()=>{},3864:()=>{},4172:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},5370:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},5910:(e,s,a)=>{Promise.resolve().then(a.bind(a,9103))},7910:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},9103:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(5155),r=a(2115),c=a(63),l=a(167),n=a(1965),i=a(9715),o=a(5370),d=a(859),h=a(2056),x=a(7910),u=a(4172),m=a(9708),j=a(9867);function p(){let[e,s]=(0,r.useState)(()=>localStorage.getItem("theme")||"dark"),[a,p]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),w=(0,c.useRouter)(),[y,g]=(0,r.useState)(""),[N,k]=(0,r.useState)(!1),[b,A]=(0,r.useState)(!1),[S,C]=(0,r.useState)(null),[z,L]=(0,r.useState)(""),[R,E]=(0,r.useState)([]),[F,I]=(0,r.useState)(!1),D=(0,r.useRef)(null);(0,r.useEffect)(()=>{{let s=sessionStorage.getItem("locshare-access-key");s?(g(s),I(!0),sessionStorage.removeItem("locshare-access-key"),"light"===e&&setTimeout(()=>{q({preventDefault:()=>{}},s)},500)):"light"===e&&I(!1)}},[e,q]),(0,r.useEffect)(()=>{s(localStorage.getItem("theme")||"dark");let a=()=>{s(localStorage.getItem("theme")||"dark")};window.addEventListener("storage",a);let t=setInterval(()=>{let a=localStorage.getItem("theme")||"dark";a!==e&&s(a)},100);return()=>{window.removeEventListener("storage",a),clearInterval(t)}},[e]),(0,r.useEffect)(()=>{if(!b||!S)return;let e=async()=>{try{if(!(await fetch("http://".concat(S.host,":").concat(S.port,"/ping"))).ok)throw Error("Server not responding")}catch(e){console.log("Local server no longer available"),v("The sharing session has ended. The server is no longer available."),A(!1),E([]),clearInterval(D.current)}};return D.current=setInterval(e,3e3),()=>{D.current&&clearInterval(D.current)}},[b,S]);let U=async()=>{try{let e=await navigator.clipboard.readText();p(e),v("")}catch(e){console.error("Failed to read clipboard:",e),v("Failed to read from clipboard. Please paste manually.")}},q=(0,r.useCallback)(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault(),v("");let a=s||y;if(!a)return void v("Please enter an access key");k(!0);try{let e=atob(a),s=JSON.parse(e),t=s.host;if(!/^(192\.168\.|10\.|172\.(1[6-9]|2[0-9]|3[0-1])\.|127\.0\.0\.1|localhost)/.test(t)){k(!1),v("Access denied: This share is only available on the local network");return}I(!0);let r={host:s.host,port:s.port,fileName:s.fileName,requiredPassword:s.password};C(r),k(!1),s.password||await M(s.host,s.port,null)}catch(e){k(!1),v("Invalid access key format"),console.error("Error decoding key:",e)}},[y]),M=async function(e,s){arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let a=await fetch("http://".concat(e,":").concat(s,"/info"));if(!a.ok)throw Error("Failed to connect to local server");let t=await a.json();if(t.downloadLimitReached)return void v("Download limit has been reached for this file.");let r=[{id:1,name:t.name,size:"".concat((t.size/1024/1024).toFixed(2)," MB"),type:t.type,passwordProtected:t.passwordProtected,downloadCount:t.downloadCount||0,maxDownloads:t.maxDownloads,isText:t.isText||!1}];E(r),A(!0)}catch(e){console.error("Error fetching file info:",e),v("Failed to connect to local server. Make sure the sharer is online and you're on the same network.")}},P=async e=>{if(e&&e.preventDefault(),S.requiredPassword&&S.requiredPassword!==z)return void v("Incorrect password");k(!0),await M(S.host,S.port,z),k(!1)},T=async e=>{let s=R.find(s=>s.id===e);if(s&&s.isText)try{let e=await fetch("http://".concat(S.host,":").concat(S.port,"/download?password=").concat(encodeURIComponent(z||"")));if(!e.ok){let s=await e.json();v(s.error||"Failed to fetch text");return}let s=await e.json();sessionStorage.setItem("encrypted-text",s.encryptedText),sessionStorage.setItem("text-has-password",z?"true":"false"),sessionStorage.setItem("text-password",z||""),w.push("/text-viewer")}catch(e){console.error("Error fetching text:",e),v("Failed to fetch message")}else{let e="http://".concat(S.host,":").concat(S.port,"/download?password=").concat(encodeURIComponent(z||""));console.log("Downloading from local server: ".concat(e)),window.location.href=e}};return"dark"===e?(0,t.jsxs)("div",{className:"access-page",children:[(0,t.jsx)(l.A,{}),(0,t.jsxs)("main",{className:"access-container",children:[(0,t.jsxs)("div",{className:"access-card",children:[(0,t.jsxs)("div",{className:"access-header",children:[(0,t.jsx)("div",{className:"access-icon",children:(0,t.jsx)(o.A,{size:48})}),(0,t.jsx)("h1",{children:"Access Shared Files"}),(0,t.jsx)("p",{children:"Enter the download URL or access code you received to access the shared files"})]}),(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),v(""),!a.trim())return void v("Please enter a URL or access code");try{if(a.includes("http://")||a.includes("https://")||a.includes("/download/")){let e="";if(a.includes("/download/")){var s,t;e=(null==(t=a.split("/download/")[1])||null==(s=t.split("?")[0])?void 0:s.split("/")[0])||""}else{let s=new URL(a.startsWith("http")?a:"https://".concat(a)).pathname.split("/").filter(e=>e);e=s[s.length-1]||""}e?w.push("/download/".concat(e)):v("Could not extract access code from URL")}else{let e=a.trim();w.push("/download/".concat(e))}}catch(s){console.error("Error parsing URL:",s);let e=a.trim();w.push("/download/".concat(e))}},className:"access-form",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsxs)("label",{htmlFor:"url-input",children:[(0,t.jsx)(d.A,{size:18}),"Download URL or Access Code"]}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{id:"url-input",type:"text",value:a,onChange:e=>{p(e.target.value),v("")},placeholder:"e.g., https://anonshare.com/download/abc123 or abc123",className:"access-input",autoFocus:!0}),(0,t.jsx)("button",{type:"button",className:"paste-btn",onClick:U,title:"Paste from clipboard",children:"Paste"})]}),(0,t.jsx)("small",{className:"input-hint",children:"You can paste the full URL or just the access code"})]}),f&&(0,t.jsxs)("div",{className:"error-message",children:[(0,t.jsx)(h.A,{size:16}),f]}),(0,t.jsxs)("button",{type:"submit",className:"access-btn",children:[(0,t.jsx)(o.A,{size:18}),"Access Files"]})]}),(0,t.jsx)("div",{className:"access-info",children:(0,t.jsxs)("div",{className:"info-section",children:[(0,t.jsx)(i.A,{size:20}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"What's an access code?"}),(0,t.jsx)("p",{children:"An access code is a unique identifier that allows you to download files shared through AnonShare. You should have received this code from the person sharing the files."})]})]})})]}),(0,t.jsxs)("div",{className:"access-examples",children:[(0,t.jsx)("h3",{children:"Accepted formats:"}),(0,t.jsxs)("div",{className:"example-list",children:[(0,t.jsxs)("div",{className:"example-item",children:[(0,t.jsx)("code",{children:"https://anonshare.com/download/abc123xyz"}),(0,t.jsx)("span",{children:"Full download URL"})]}),(0,t.jsxs)("div",{className:"example-item",children:[(0,t.jsx)("code",{children:"/download/abc123xyz"}),(0,t.jsx)("span",{children:"Relative URL path"})]}),(0,t.jsxs)("div",{className:"example-item",children:[(0,t.jsx)("code",{children:"abc123xyz"}),(0,t.jsx)("span",{children:"Just the access code"})]})]})]})]}),(0,t.jsx)(n.A,{})]}):(0,t.jsxs)("div",{className:"access-page",children:[(0,t.jsx)(l.A,{}),(0,t.jsxs)("main",{className:"access-container",children:[(0,t.jsxs)("div",{className:"access-card",children:[(0,t.jsxs)("div",{className:"access-header",children:[(0,t.jsx)("h1",{children:"Access Local Shared Files"}),(0,t.jsx)("p",{children:"Enter the access key to connect to locally shared files on your network"})]}),!F&&!b&&!S&&(0,t.jsxs)("div",{className:"access-denied",children:[(0,t.jsx)("div",{className:"denied-icon",children:(0,t.jsx)(x.A,{size:48})}),(0,t.jsx)("h2",{children:"Access Restricted"}),(0,t.jsx)("p",{children:"This page is only accessible through a valid LocShare link or QR code."}),(0,t.jsx)("p",{className:"help-text",children:"To access files shared on your local network:"}),(0,t.jsxs)("ol",{className:"access-steps",children:[(0,t.jsx)("li",{children:"Ask the sender to share their QR code or link"}),(0,t.jsx)("li",{children:"Scan the QR code with your device camera, or"}),(0,t.jsx)("li",{children:"Click the link they provide"}),(0,t.jsx)("li",{children:"Make sure you're on the same WiFi network as the sender"})]}),(0,t.jsxs)("p",{className:"security-note-text",children:[(0,t.jsx)(x.A,{size:16}),"For security, manual access key entry is disabled. You must use the QR code or link provided by the sender."]}),(0,t.jsx)("button",{className:"back-home-btn",onClick:()=>w.push("/"),children:"Back to Home"})]}),!b&&S&&S.requiredPassword&&(0,t.jsxs)("form",{onSubmit:P,className:"password-form",children:[(0,t.jsxs)("div",{className:"connection-info",children:[(0,t.jsx)(u.A,{size:18}),(0,t.jsxs)("span",{children:["Connecting to: ",S.ip,":",S.port]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsxs)("label",{children:[(0,t.jsx)(m.A,{size:18}),"Password Required"]}),(0,t.jsx)("input",{type:"password",value:z,onChange:e=>L(e.target.value),placeholder:"Enter the password for this share",className:"access-input"})]}),f&&(0,t.jsxs)("div",{className:"error-message",children:[(0,t.jsx)(h.A,{size:16}),f]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"button",className:"back-btn",onClick:()=>C(null),children:"Back"}),(0,t.jsx)("button",{type:"submit",className:"connect-btn",disabled:N,children:N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"spinner"}),"Connecting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{size:18}),"Connect"]})})]})]}),b&&(0,t.jsxs)("div",{className:"connected-view",children:[(0,t.jsxs)("div",{className:"connection-info",children:[(0,t.jsx)(u.A,{size:18}),(0,t.jsx)("span",{children:"Connected to shared file server"}),(0,t.jsx)("button",{className:"disconnect-btn",onClick:()=>{A(!1),C(null),E([]),L(""),g(""),I(!1)},children:"Disconnect"})]}),(0,t.jsxs)("div",{className:"files-list",children:[(0,t.jsx)("h3",{children:"Available Files"}),R.map(e=>(0,t.jsxs)("div",{className:"file-item",children:[(0,t.jsxs)("div",{className:"file-info",children:[(0,t.jsx)("div",{className:"file-icon",children:(e.type,(0,t.jsx)(i.A,{size:24}))}),(0,t.jsxs)("div",{className:"file-details",children:[(0,t.jsx)("div",{className:"file-name",children:e.name}),(0,t.jsx)("div",{className:"file-size",children:e.size}),e.maxDownloads&&(0,t.jsxs)("div",{className:"file-downloads",children:["Downloads: ",e.downloadCount," / ",e.maxDownloads]})]})]}),(0,t.jsx)("div",{className:"file-actions",children:(0,t.jsx)("button",{className:"download-btn",onClick:()=>T(e.id),children:e.isText?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.A,{size:18}),"View Message"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{size:18}),"Download"]})})})]},e.id)),(0,t.jsx)("div",{className:"download-all",children:(0,t.jsxs)("button",{className:"download-all-btn",onClick:()=>{R.forEach(e=>T(e.id))},children:[(0,t.jsx)(j.A,{size:18}),"Download File"]})})]}),(0,t.jsxs)("div",{className:"share-info",children:[(0,t.jsxs)("p",{children:["This file is being shared from: ",(0,t.jsxs)("strong",{children:[S.host,":",S.port]})]}),(0,t.jsxs)("p",{className:"security-note",children:[(0,t.jsx)(x.A,{size:16}),S.requiredPassword?"Password protected":"No password required"]})]})]})]}),(0,t.jsxs)("div",{className:"access-features",children:[(0,t.jsxs)("div",{className:"feature",children:[(0,t.jsx)(o.A,{size:24}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Secure Access"}),(0,t.jsx)("p",{children:"Access keys contain encrypted connection information"})]})]}),(0,t.jsxs)("div",{className:"feature",children:[(0,t.jsx)(u.A,{size:24}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Local Network"}),(0,t.jsx)("p",{children:"Connect to files shared on your local network"})]})]}),(0,t.jsxs)("div",{className:"feature",children:[(0,t.jsx)(j.A,{size:24}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Multiple Download Options"}),(0,t.jsx)("p",{children:"Download through the browser or using wget"})]})]})]})]}),(0,t.jsx)(n.A,{})]})}a(3864)},9708:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9715:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9867:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])}},e=>{e.O(0,[195,531,176,441,255,358],()=>e(e.s=5910)),_N_E=e.O()}]);